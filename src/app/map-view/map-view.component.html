<div class="container" style="margin-top:15px;">
  <div class="row">
    <div class="col-md-1" style="margin-top: 55px;">
      <!--Radio group-->
      <div class="form-check">
        <input class="form-check-input" name="templateCheck" type="radio" id="radio100" [(ngModel)]="templateCheck" [value]="true"
          checked>
        <label class="form-check-label" for="radio100">List View</label>
      </div>

      <div class="form-check">
        <input class="form-check-input" name="templateCheck" type="radio" id="radio101" [(ngModel)]="templateCheck" [value]="false">
        <label class="form-check-label" for="radio101">Map View</label>
      </div>
      <!--Radio group-->
    </div>

    <div *ngIf="templateCheck; then listView else mapView"></div>
    <ng-template #listView>
      <div class="col-md-4">
        <table class="table table-hover">
          <thead>
            <tr>
              <th>Sensor</th>
              <th>{{variable}}</th>
            </tr>
          </thead>
          <tbody *ngIf="sensors;">
            <tr *ngFor="let sensor of sensors.data; let i = index" (click)="getDetailedData(i)">
              <td>Sensor {{testarray[i].data[0].id}}</td>
              <td [ngStyle]="{'background-color': getColor(variable, getVariable(variable, i))}" [style.color]="getTextColor(variable, getVariable(variable, i))">{{getVariable(variable, i)}}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </ng-template>
    <ng-template #mapView>
      <!-- Created with Inkscape (http://www.inkscape.org/) -->

      <svg xmlns:osb="http://www.openswatchbook.org/uri/2009/osb" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#"
        xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg"
        xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
        width="120mm" height="100mm" viewBox="0 0 149.99999 133.33333" version="1.1" id="svg8" inkscape:version="0.92.2 (5c3e80d, 2017-08-06)"
        sodipodi:docname="RoomsV2.svg">
        <defs id="defs2">
          <linearGradient id="linearGradient4534" osb:paint="solid">
            <stop style="stop-color:#ffffff;stop-opacity:1;" offset="0" id="stop4532" />
          </linearGradient>
        </defs>
        <sodipodi:namedview id="base" pagecolor="#ffffff" bordercolor="#666666" borderopacity="1.0" inkscape:pageopacity="0.0" inkscape:pageshadow="2"
          inkscape:zoom="1.979899" inkscape:cx="245.04769" inkscape:cy="501.79745" inkscape:document-units="mm" inkscape:current-layer="layer1"
          showgrid="false" inkscape:window-width="3200" inkscape:window-height="1644" inkscape:window-x="-16" inkscape:window-y="-16"
          inkscape:window-maximized="1" fit-margin-top="0" fit-margin-left="0" fit-margin-right="0" fit-margin-bottom="0" />
        <metadata id="metadata5">
          <rdf:RDF>
            <cc:Work rdf:about="">
              <dc:format>image/svg+xml</dc:format>
              <dc:type rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
              <dc:title></dc:title>
            </cc:Work>
          </rdf:RDF>
        </metadata>
        <g inkscape:label="Layer 1" inkscape:groupmode="layer" id="layer1">
          <rect id="rect3699" width="40.357697" height="32.339611" x="16.156303" y="35.06237" class="Rooms" [ngStyle]="{'fill': getColor(variable, getVariable(variable, 0))}"
            style="stroke:#000000;stroke-width:0.265;stroke-opacity:1;stroke-miterlimit:4;stroke-dasharray:none" />
          <rect id="rect3701" width="39.833458" height="27.823019" x="35.06237" y="-84.337021" class="Rooms" [ngStyle]="{'fill': getColor(variable, getVariable(variable, 1))}"
            style="stroke:#000000;stroke-width:0.265;stroke-opacity:1;stroke-miterlimit:4;stroke-dasharray:none" transform="rotate(90)"
          />
          <rect id="rect3703" width="43.56493" height="39.288624" x="49.921326" y="82.188583" class="Rooms" [ngStyle]="{'fill': getColor(variable, getVariable(variable, 2))}"
            style="fill:#c0c0c0;fill-opacity:1;stroke:#000000;stroke-width:0.265;stroke-opacity:1;stroke-miterlimit:4;stroke-dasharray:none"
          />
          <rect id="rect3705" width="42.818493" height="39.833458" x="84.337021" y="35.06237" class="Rooms" [ngStyle]="{'fill': getColor(variable, getVariable(variable, 3))}"
            style="fill:#c0c0c0;fill-opacity:1;stroke:#000000;stroke-width:0.265;stroke-opacity:1;stroke-miterlimit:4;stroke-dasharray:none"
          />

          <rect style="fill:#c0c0c0;fill-opacity:1;stroke:#000000;stroke-width:0.26499999;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
            id="rect4544" width="33.790077" height="33.07291" x="93.486252" y="82.188583" [ngStyle]="{'fill': getColor(variable, getVariable(variable, 4))}"
            class="Rooms" />
          <rect style="fill:#c0c0c0;fill-opacity:1;stroke:#000000;stroke-width:0.26499999;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"
            id="rect4548" width="23.26215" height="26.524105" x="26.659178" y="82.188583" [ngStyle]="{'fill': getColor(variable, getVariable(variable, 5))}"
            class="Rooms" />
        </g>
      </svg>
      
    </ng-template>

    <div class="col-md-2" style="margin-top: 55px;">
      <!--Radio group-->
      <div class="form-group">
        <input name="102" type="radio" class="with-gap" [(ngModel)]="variable" value="temperature" id="radio106" checked>
        <label for="radio106">Temperature</label>
      </div>

      <div class="form-group">
        <input name="102" type="radio" class="with-gap" [(ngModel)]="variable" value="humidity" id="radio107">
        <label for="radio107">Humidity</label>
      </div>

      <div class="form-group">
        <input name="102" type="radio" class="with-gap" [(ngModel)]="variable" value="co2level" id="radio110">
        <label for="radio110">CO2</label>
      </div>

      <div class="form-group">
        <input name="102" type="radio" class="with-gap" [(ngModel)]="variable" value="soundlevel" id="radio108">
        <label for="radio108">Sound</label>
      </div>

      <div class="form-group">
        <input name="102" type="radio" class="with-gap" [(ngModel)]="variable" value="illuminance" id="radio109">
        <label for="radio109">Light</label>
      </div>

      <!--Radio group-->
    </div>

    <!-- Detailed data information -->
    <div class="col-md-4" style="margin-top: 55px;">
      <ul class="list-group">
        <li class="list-group-item active">
          {{testarray[id].data[0].id}}
          <span [routerLink]="['/settings']"  style='float:right; cursor:pointer;'>
            <i class="fa fa-gear" aria-hidden="true"></i>
          </span>
        </li>
        <li class="list-group-item li-fix">
          <div class="row">
            <div class="col-md-8">
              Temperature
            </div>
            <div class="col-md-4">
              {{testarray[id].data[0].attributes.temperature}}Â°c
            </div>
          </div>
        </li>
        <li class="list-group-item li-fix">
          <div class="row">
            <div class="col-md-8">
              Humidity
            </div>
            <div class="col-md-4">
              {{testarray[id].data[0].attributes.humidity}}%
            </div>
          </div>
        </li>
        <li class="list-group-item li-fix">
          <div class="row">
            <div class="col-md-8">
              CO2-level
            </div>
            <div class="col-md-4">
              {{testarray[id].data[0].attributes.co2}} ppm
            </div>
          </div>
        </li>
        <li class="list-group-item li-fix">
          <div class="row">
            <div class="col-md-8">
              Sound-level
            </div>
            <div class="col-md-4">
              {{testarray[id].data[0].attributes.sound}} dB
            </div>
          </div>
        </li>
        <li class="list-group-item li-fix">
          <div class="row">
            <div class="col-md-8">
              Illuminance
            </div>
            <div class="col-md-4">
              {{testarray[id].data[0].attributes.light}} lux
            </div>
          </div>
        </li>
        <li class="list-group-item">
          Warning:
          <!-- {{warnings.temperature.high}} -->
        </li>
      </ul>
    </div>
    <img src="../../assets/Legend.PNG" width="300px" height="100px" style='margin-left: 175px;'>
  </div>
</div>